import {formatDay, ONE_DAY, ONE_MONTH} from './date';

test('formatDay', () => {
  const now = new Date('2021-01-10T10:49:41.836Z');

  function run(dateDiff: number): void {
    const date = new Date(now.valueOf() + dateDiff);
    results.set(date, formatDay(now, date));
  }

  const results = new Map<Date, string>();
  for (let i = -15; i < 25; i++) {
    run(i * ONE_DAY);
  }
  for (let i = 1; i < 14; i++) {
    run(i * ONE_MONTH);
  }

  expect(results).toMatchInlineSnapshot(`
    Map {
      2020-12-26T10:49:41.836Z => "26 Dec 2020",
      2020-12-27T10:49:41.836Z => "27 Dec 2020",
      2020-12-28T10:49:41.836Z => "28 Dec 2020",
      2020-12-29T10:49:41.836Z => "29 Dec 2020",
      2020-12-30T10:49:41.836Z => "30 Dec 2020",
      2020-12-31T10:49:41.836Z => "31 Dec 2020",
      2021-01-01T10:49:41.836Z => "1 Jan.",
      2021-01-02T10:49:41.836Z => "2 Jan.",
      2021-01-03T10:49:41.836Z => "7 days ago",
      2021-01-04T10:49:41.836Z => "6 days ago",
      2021-01-05T10:49:41.836Z => "5 days ago",
      2021-01-06T10:49:41.836Z => "4 days ago",
      2021-01-07T10:49:41.836Z => "3 days ago",
      2021-01-08T10:49:41.836Z => "2 days ago",
      2021-01-09T10:49:41.836Z => "yesterday",
      2021-01-10T10:49:41.836Z => "today",
      2021-01-11T10:49:41.836Z => "tomorrow",
      2021-01-12T10:49:41.836Z => "Tuesday",
      2021-01-13T10:49:41.836Z => "Wednesday",
      2021-01-14T10:49:41.836Z => "Thursday",
      2021-01-15T10:49:41.836Z => "Friday",
      2021-01-16T10:49:41.836Z => "Saturday",
      2021-01-17T10:49:41.836Z => "next Sunday",
      2021-01-18T10:49:41.836Z => "next Monday",
      2021-01-19T10:49:41.836Z => "next Tuesday",
      2021-01-20T10:49:41.836Z => "next Wednesday",
      2021-01-21T10:49:41.836Z => "next Thursday",
      2021-01-22T10:49:41.836Z => "next Friday",
      2021-01-23T10:49:41.836Z => "next Saturday",
      2021-01-24T10:49:41.836Z => "next Sunday",
      2021-01-25T10:49:41.836Z => "25 Jan.",
      2021-01-26T10:49:41.836Z => "26 Jan.",
      2021-01-27T10:49:41.836Z => "27 Jan.",
      2021-01-28T10:49:41.836Z => "28 Jan.",
      2021-01-29T10:49:41.836Z => "29 Jan.",
      2021-01-30T10:49:41.836Z => "30 Jan.",
      2021-01-31T10:49:41.836Z => "31 Jan.",
      2021-02-01T10:49:41.836Z => "1 Feb.",
      2021-02-02T10:49:41.836Z => "2 Feb.",
      2021-02-03T10:49:41.836Z => "3 Feb.",
      2021-02-09T10:49:41.836Z => "9 Feb.",
      2021-03-11T10:49:41.836Z => "11 Mar.",
      2021-04-10T10:49:41.836Z => "10 Apr.",
      2021-05-10T10:49:41.836Z => "10 May",
      2021-06-09T10:49:41.836Z => "9 June",
      2021-07-09T10:49:41.836Z => "9 July",
      2021-08-08T10:49:41.836Z => "8 Aug.",
      2021-09-07T10:49:41.836Z => "7 Sept.",
      2021-10-07T10:49:41.836Z => "7 Oct.",
      2021-11-06T10:49:41.836Z => "6 Nov.",
      2021-12-06T10:49:41.836Z => "6 Dec",
      2022-01-05T10:49:41.836Z => "5 Jan. 2022",
      2022-02-04T10:49:41.836Z => "4 Feb. 2022",
    }
  `);
});
